<div *ngIf="loadCompleted" class="container">
    <br />
    <h2 class="text-info mt-5">Welcome, {{user.firstName}}!</h2>
    <br />

    <div *ngIf="!editUser; else editUserBlock" class="mt-3">
        <h4 class="mb-3">Basic Information <span (click)="editProfile()" class="badge badge-info" role="button" style="cursor:pointer">Edit</span></h4>  
        <p>{{user.firstName}} {{user.lastName}}<br />
            {{user.email}}</p>

    </div>

    <ng-template #editUserBlock>
        <app-edit-user-profile [user]="user" (onUserSubmit)="onEditUserClose($event)"></app-edit-user-profile>
    </ng-template>
    
    <div class="mt-5" *ngIf="!editDetails; else editDetailsBlock">
        <h4>My Home <span (click)="editHomeDetails()" class="badge badge-info" role="button" style="cursor:pointer">Edit</span></h4>
        <div *ngIf="user.userDetails == null; else userDetailsBlock">Details about your home will appear here.</div>
        <ng-template #userDetailsBlock>
            <label>Year Built:</label>
            <p>{{user.userDetails.homeAge}}<br />
                <label>Construction: </label>{{user.userDetails.homeBuild}}</p>
            <p class="lead">Notes:</p>
            <p>{{user.userDetails.homeNotes}}</p>
        </ng-template>
    </div>

    <ng-template #editDetailsBlock>
        <app-edit-user-details [user]="user" (onUserSubmit)="onEditDetailsClose($event)"></app-edit-user-details>
    </ng-template>

    <div class="mt-5">
        <h4>My Projects</h4>
        <div *ngIf="user.projects.length == 0">
            <p>Hey there! You do not have any projects yet.<br />
                Why not <a class="text-info" [routerLink]="'/project/create'">create</a> one?</p>
        </div>
        <div>
            <p class="lead" *ngFor="let project of user.projects">{{project.name}}</p>
            <div class="mt-3" *ngIf="user.projects.length > 0">
                <h5 class="text-info">+ <a class="text-info" [routerLink]="'/project/create'">Add Project</a></h5>
            </div>
        </div>
    </div>
</div>